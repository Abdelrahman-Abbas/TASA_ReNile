--Create DataBase called "ReNile" --
CREATE DATABASE ReNile 
 -- Create the Tables --
 CREATE TABLE FishFarm (
	ID VARCHAR(9) NOT NULL,
	SIZE INTEGER,
	CITY VARCHAR,
	FarmState VARCHAR,
	AUTOMATED VARCHAR,
	PH INTEGER,
	DO INTEGER,
    PRIMARY KEY (ID),
 ); --
 CREATE TABLE FishType(
	FTYPE VARCHAR NOT NULL,
	ID VARCHAR(9),
	PRIMARY KEY (FTYPE,ID),
	FOREIGN KEY (ID) REFERENCES FishFarm 
 ); --
 CREATE TABLE Products(
	MANUFACTURER VARCHAR,
	PTYPE VARCHAR,
	QUNATITY INTEGER,
	PRICE INTEGER,
	PRIMARY KEY (MANUFACTURER,PTYPE)
 );--
 CREATE TABLE ImplementedIn(
	MANUFACTURER VARCHAR,
	PTYPE VARCHAR,
	ID VARCHAR(9),
	FOREIGN KEY (ID) REFERENCES FishFarm,
	FOREIGN KEY (MANUFACTURER,PTYPE) REFERENCES Products
 );--
 CREATE TABLE FarmOwner(
	CODE VARCHAR(10),
	FINANCIAL_ACCOUNT VARCHAR,
	PNAME VARCHAR,
	LNAME VARCHAR,
	PREMIUM_ACCOUNT VARCHAR,
	PRIMARY KEY (CODE)
 );--
 ALTER TABLE FishFarm ADD CODE VARCHAR(10);
 ALTER TABLE FishFarm ADD DOCTORID VARCHAR(9);
 ALTER TABLE FishFarm ADD EMPLOYEEID VARCHAR(9);
 ALTER TABLE FishFarm ADD FOREIGN KEY (CODE) REFERENCES FarmOwner;
 CREATE TABLE Doctor(
 DOCTORID VARCHAR(9),
 DFNAME VARCHAR,
 DLNAME VARCHAR,
 DADDRESS VARCHAR,
 DPHONE VARCHAR,
 PRIMARY KEY (DOCTORID)
 );--
 CREATE TABLE Employee(
 EMID VARCHAR(9),
 EFNAME VARCHAR,
 ELNAME VARCHAR,
 ESALARY INTEGER,
 DROLE VARCHAR,
 PRIMARY KEY (EMID)
 );--
 CREATE TABLE Importers (
	I_FINANCIAL_ACCOUNT VARCHAR,
	I_NAME VARCHAR,
	MANUFACTURER VARCHAR,
	PTYPE VARCHAR,
	PRIMARY KEY (I_NAME),
	FOREIGN KEY (MANUFACTURER,PTYPE) REFERENCES Products
 );--
 CREATE TABLE ImportedFrom(
	DEALDATE VARCHAR,
	I_NAME VARCHAR,
	MANUFACTURER VARCHAR,
	PTYPE VARCHAR,
	FOREIGN KEY (I_NAME) REFERENCES Importers,
	FOREIGN KEY (MANUFACTURER,PTYPE) REFERENCES Products
 );--
